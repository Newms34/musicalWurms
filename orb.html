<html>

<head>
    <title>Orbit test</title>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="./css/style.css">
</head>

<body ng-app='orbApp' ng-controller='orbCon'>
    <div class='panel panel-info'>
        <div class='panel-heading'>
            <h2>Orbit Demo</h2></div>
        <div class='panel-body'>
            <i>Change parameters (by clicking the &#128269;) for different behaviors. Particles will attempt to stay within min-max distance from nearest neighbor.</i>
            <button class='btn btn-primary' title='Show/hide options' ng-click='toggleOpts();'>&#128269;</button>
            <hr/>
            <div id='swarmOpts'>
                <div class='row'>
                    <div class='col-md-3'>Maximum (attract) distance: </div>
                    <div class='col-md-7'>
                        <input type="number" ng-model='maxDist' / title='Particles will attempt to stay within this distance of their nearest neighbor.'>
                    </div>
                </div>

                <div class='row'>
                    <div class='col-md-3'>Gravitational Constant: </div>
                    <div class='col-md-7'>
                        <input type="number" ng-model='bigG' title='Gravitational Constant (Big-G)' />
                    </div>
                </div>
                <div class='row'>
                    <div class='col-md-3'>Number of particles: </div>
                    <div class='col-md-7'>
                        <input type="number" ng-model='numParts' title='How many particles to include. Changing this will reset the canvas!' ng-change='initParts()' />
                    </div>
                </div>
                <div class='row'>
                    <div class='col-md-3'>Trail Mode: </div>
                    <div class='col-md-7'>
                        <input type="checkbox" ng-model='trailMode' title='Don&rsquo;t clear canvas after each frame render' />
                    </div>
                </div>
                <div class='row'>
                    <div class='col-md-3'>Afterglow: </div>
                    <div class='col-md-7'>
                        <input type="checkbox" ng-disabled='!trailMode' ng-model='glo' title='Particles leave an afterglow. Only available if Trail Mode active' />
                    </div>
                </div>
                <div class='row'>
                    <div class='col-md-3'>Show Monitors: </div>
                    <div class='col-md-7'>
                        <input type="checkbox" ng-model='showMons' title='If active, this will show the velocity vectors (as vx,vy) of each particle'/>
                    </div>
                </div>
                <div class='row'>
                    <div class='col-md-3'>Show Vectors: </div>
                    <div class='col-md-7'>
                        <input type="checkbox" ng-model='showVecs' title='If active, this will show the velocity vectors (as arrows) of each particle'/>
                    </div>
                </div>
                <div class='row'>
                    <div class='col-md-3'>Custom Hue Mode: </div>
                    <div class='col-md-2'>
                        <input type="checkbox" ng-model='customHueMode' title='If enabled, this allows you to determine what color the particles are. Otherwise, follows (generally) a black-body color scheme.' />
                    </div>
                    <div class='col-md-6' style='background:{{customHueMode?"hsl("+customHue+",100%,50%)":"#aaa"}}'>
                        <input type="number" ng-model='customHue' title='Desired (base) hue.' ng-disabled='!customHueMode' />
                    </div>
                </div>
                <div class='row'>
                    <button ng-click='rescatter()' class='btn btn-danger' title='If particles are too clumped, try clicking this'>Re-scatter!</button>
                </div>
            </div>
        </div>
    </div>
    <canvas width='500' height='500' id='myCanv'></canvas>
    <div style='width:{{cw}}px; height:{{ch}}px;; border:1px solid #000;position:relative;top:-{{ch}}px;' ng-show='showMons'>
        <div class='mon' ng-repeat='m in parts' style='left:{{m.x}}px;top:{{m.y}}px;'>{{m.vx}}, {{m.vy}}</div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="./js/orb.js"></script>
</body>

</html>
